

```html
<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0, minimum-scale=1.0">
    <title>Kalkul√°tor dne v t√Ωdnu</title>
    <style>
        :root {
            --bg-primary: linear-gradient(135deg, #8B7355 0%, #6B5B47 25%, #4A4A3A 50%, #5D4E37 75%, #8B7355 100%);
            --bg-container: linear-gradient(145deg, rgba(139, 118, 76, 0.8) 0%, rgba(101, 67, 33, 0.9) 100%);
            --border-main: rgba(205, 186, 150, 0.4);
            --text-primary: #F5E6D3;
            --text-accent: #CDBA96;
            --control-bg: linear-gradient(145deg, rgba(15, 15, 15, 0.9) 0%, rgba(35, 35, 35, 0.8) 100%);
            --control-border: rgba(60, 60, 60, 0.8);
            --button-bg: linear-gradient(145deg, #1a1a1a 0%, #2d2d2d 30%, #0f0f0f 70%, #1a1a1a 100%);
        }
        .theme-blue {
            --bg-primary: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 25%, #1e40af 50%, #2563eb 75%, #1e3a8a 100%);
            --bg-container: linear-gradient(145deg, rgba(30, 58, 138, 0.8) 0%, rgba(37, 99, 235, 0.9) 100%);
            --border-main: rgba(147, 197, 253, 0.4);
            --text-primary: #dbeafe;
            --text-accent: #93c5fd;
        }
        .theme-green {
            --bg-primary: linear-gradient(135deg, #14532d 0%, #16a34a 25%, #15803d 50%, #22c55e 75%, #14532d 100%);
            --bg-container: linear-gradient(145deg, rgba(20, 83, 45, 0.8) 0%, rgba(21, 128, 61, 0.9) 100%);
            --border-main: rgba(134, 239, 172, 0.4);
            --text-primary: #dcfce7;
            --text-accent: #86efac;
        }
        .theme-purple {
            --bg-primary: linear-gradient(135deg, #581c87 0%, #a855f7 25%, #7c3aed 50%, #8b5cf6 75%, #581c87 100%);
            --bg-container: linear-gradient(145deg, rgba(88, 28, 135, 0.8) 0%, rgba(124, 58, 237, 0.9) 100%);
            --border-main: rgba(196, 181, 253, 0.4);
            --text-primary: #f3e8ff;
            --text-accent: #c4b5fd;
        }
        .theme-red {
            --bg-primary: linear-gradient(135deg, #7f1d1d 0%, #dc2626 25%, #b91c1c 50%, #ef4444 75%, #7f1d1d 100%);
            --bg-container: linear-gradient(145deg, rgba(127, 29, 29, 0.8) 0%, rgba(185, 28, 28, 0.9) 100%);
            --border-main: rgba(252, 165, 165, 0.4);
            --text-primary: #fef2f2;
            --text-accent: #fca5a5;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: Arial, sans-serif; background: var(--bg-primary); min-height: 100vh; padding: 10px; color: var(--text-primary); text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7); overflow-x: hidden; }
        .container { max-width: 100%; width: 100%; margin: 0 auto; background: var(--bg-container); border-radius: 20px; padding: 20px; border: 2px solid var(--border-main); box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3); position: relative; }
        .menu-container { position: absolute; top: 20px; right: 20px; z-index: 100; }
        .menu-button { width: 44px; height: 44px; border-radius: 50%; background: var(--button-bg); border: 2px solid var(--control-border); color: var(--text-primary); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 20px; font-weight: bold; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4); text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.9); -webkit-user-select: none; user-select: none; z-index: 101; }
        .menu-button:active { transform: scale(0.95); background: rgba(50, 50, 50, 0.8); }
        .menu-dropdown { position: absolute; top: 50px; right: 0; min-width: 280px; background: var(--control-bg); border: 2px solid var(--control-border); border-radius: 12px; box-shadow: 0 8px 30px rgba(0, 0, 0, 0.7); opacity: 0; visibility: hidden; transform: translateY(-10px); transition: all 0.3s ease; max-height: 70vh; overflow-y: auto; display: none; }
        .menu-dropdown.show { opacity: 1; visibility: visible; transform: translateY(0); display: block; }
        .menu-section { padding: 8px 0; border-bottom: 1px solid rgba(80, 80, 80, 0.3); }
        .menu-section:last-child { border-bottom: none; }
        .menu-section-title { padding: 8px 16px; color: var(--text-accent); font-size: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; }
        .menu-item, .theme-item { padding: 12px 16px; color: var(--text-primary); display: flex; align-items: center; font-size: 15px; font-weight: 500; cursor: pointer; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8); -webkit-user-select: none; user-select: none; min-height: 44px; }
        .menu-item:active, .theme-item:active { background: rgba(60, 60, 60, 0.6); color: var(--text-accent); }
        .theme-item { gap: 10px; }
        .theme-preview { width: 24px; height: 24px; border-radius: 50%; border: 2px solid rgba(255, 255, 255, 0.3); flex-shrink: 0; }
        .theme-bronze .theme-preview { background: linear-gradient(45deg, #8B7355, #CDBA96); }
        .theme-blue .theme-preview { background: linear-gradient(45deg, #3b82f6, #93c5fd); }
        .theme-green .theme-preview { background: linear-gradient(45deg, #16a34a, #86efac); }
        .theme-purple .theme-preview { background: linear-gradient(45deg, #a855f7, #c4b5fd); }
        .theme-red .theme-preview { background: linear-gradient(45deg, #dc2626, #fca5a5); }
        .header { text-align: center; margin-bottom: 25px; margin-top: 15px; padding-right: 60px; }
        .header h1 { font-size: 22px; font-weight: 700; margin-bottom: 8px; color: var(--text-primary); text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8); line-height: 1.2; }
        .header p { color: var(--text-primary); font-size: 14px; font-weight: 400; font-style: italic; opacity: 0.9; }
        .display { background: var(--control-bg); border-radius: 18px; padding: 20px; margin-bottom: 20px; min-height: 80px; display: flex; align-items: center; justify-content: center; text-align: center; border: 2px solid var(--control-border); box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.6); }
        .display.result { background: linear-gradient(145deg, rgba(20, 60, 20, 0.9) 0%, rgba(30, 80, 30, 0.8) 100%); border-color: rgba(100, 150, 100, 0.6); }
        .display.error { background: linear-gradient(145deg, rgba(60, 20, 20, 0.9) 0%, rgba(80, 30, 30, 0.8) 100%); border-color: rgba(150, 100, 100, 0.6); }
        .display-text { font-size: 16px; font-weight: 500; line-height: 1.4; word-wrap: break-word; }
        .input-section { margin-bottom: 20px; }
        .input-label { display: block; margin-bottom: 12px; font-weight: 600; color: var(--text-primary); font-size: 15px; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7); }
        .date-input-container { margin-bottom: 18px; }
        .date-input { width: 100%; padding: 18px; border: 2px solid var(--control-border); border-radius: 12px; background: var(--control-bg); color: var(--text-primary); font-size: 18px; text-align: center; outline: none; font-weight: 500; box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.6); text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); -webkit-appearance: none; min-height: 56px; }
        .date-input:focus { border-color: var(--border-main); }
        .date-input::placeholder { color: rgba(180, 180, 180, 0.7); font-weight: 400; }
        .format-hint { font-size: 13px; color: var(--text-accent); text-align: center; margin-top: 8px; font-style: italic; line-height: 1.3; }
        .calculate-btn { width: 100%; padding: 18px; background: var(--button-bg); color: var(--text-primary); border: 2px solid var(--control-border); border-radius: 15px; font-size: 17px; font-weight: 700; cursor: pointer; text-transform: uppercase; letter-spacing: 0.5px; box-shadow: 0 6px 25px rgba(0, 0, 0, 0.4); text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.9); -webkit-user-select: none; user-select: none; min-height: 56px; -webkit-appearance: none; }
        .calculate-btn:active { transform: scale(0.98); }
        .examples { margin-top: 20px; background: var(--control-bg); border-radius: 15px; padding: 18px; border: 1px solid var(--control-border); box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.6); }
        .examples h3 { font-size: 16px; margin-bottom: 12px; color: var(--text-accent); font-weight: 600; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.7); }
        .examples ul { list-style: none; font-size: 14px; line-height: 1.4; }
        .examples li { margin-bottom: 8px; color: var(--text-primary); font-weight: 400; opacity: 0.9; cursor: pointer; padding: 8px 4px; border-radius: 6px; -webkit-user-select: none; user-select: none; min-height: 44px; display: flex; align-items: center; }
        .examples li:active { color: var(--text-accent); background: rgba(255, 255, 255, 0.1); }
        .examples li::before { content: "‚Üí "; color: var(--text-accent); font-weight: 700; margin-right: 8px; }
        .loading { display: inline-block; width: 18px; height: 18px; border: 2px solid rgba(245, 230, 211, 0.3); border-radius: 50%; border-top-color: var(--text-primary); animation: spin 1s linear infinite; margin-right: 8px; }
        @keyframes spin { to { transform: rotate(360deg); } }
        @media (max-width: 480px) {
            body { padding: 5px; }
            .container { padding: 15px; border-radius: 15px; }
            .header h1 { font-size: 20px; }
            .date-input { font-size: 16px; padding: 16px; }
            .calculate-btn { font-size: 16px; padding: 16px; }
            .menu-dropdown { min-width: 250px; right: -10px; max-width: calc(100vw - 40px); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="menu-container">
            <div class="menu-button" id="menuButton">‚ãÆ</div>
            <div class="menu-dropdown" id="menuDropdown">
                <div class="menu-section">
                    <div class="menu-item" id="versionButton">Den v t√Ωdnu v1.5</div>
                </div>
                <div class="menu-section">
                    <div class="menu-section-title">Barevn√° t√©mata</div>
                    <div class="theme-item theme-bronze" data-theme="">
                        <div class="theme-preview"></div>
                        Bronzov√© (v√Ωchoz√≠)
                    </div>
                    <div class="theme-item theme-blue" data-theme="theme-blue">
                        <div class="theme-preview"></div>
                        Modr√©
                    </div>
                    <div class="theme-item theme-green" data-theme="theme-green">
                        <div class="theme-preview"></div>
                        Zelen√©
                    </div>
                    <div class="theme-item theme-purple" data-theme="theme-purple">
                        <div class="theme-preview"></div>
                        Fialov√©
                    </div>
                    <div class="theme-item theme-red" data-theme="theme-red">
                        <div class="theme-preview"></div>
                        ƒåerven√©
                    </div>
                </div>
                <div class="menu-section">
                    <div class="menu-item" data-link="https://claude.ai">Created by Claude AI</div>
                    <div class="menu-item" data-link="https://kalendar.beda.cz/kalendar-rozcestnik">V√≠ce o kalend√°≈ô√≠ch</div>
                </div>
            </div>
        </div>
        <div class="header">
            <h1>üìÖ Kalkul√°tor dne</h1>
            <p>Zjistƒõte den v t√Ωdnu pro jak√©koliv datum v historii</p>
        </div>
        <div id="display" class="display">
            <div class="display-text">M√≠sto pro v√Ωsledek</div>
        </div>
        <div class="input-section">
            <label class="input-label" for="dateInput">Zadejte datum:</label>
            <div class="date-input-container">
                <input type="text" id="dateInput" class="date-input" placeholder="1.1.1 nebo 15.3.44 nebo 01031989" maxlength="15">
                <div class="format-hint">Form√°ty: 1.1.1 ‚Ä¢ 15.3.44 ‚Ä¢ 1989 ‚Ä¢ 1/3/1989 ‚Ä¢ 01031989</div>
            </div>
        </div>
        <button id="calculateBtn" class="calculate-btn">Vypoƒç√≠tat</button>
        <div class="examples">
            <h3>üí° Vyzkou≈°ejte:</h3>
            <ul>
                <li data-date="1.1.1">1.1.1 - zaƒç√°tek na≈°eho letopoƒçtu</li>
                <li data-date="15.3.44">15.3.44 - zavra≈ædƒõn√≠ Julia Caesara</li>
                <li data-date="4.10.1582">4.10.1582 - posledn√≠ den juli√°nsk√©ho kalend√°≈ôe</li>
                <li data-date="15.10.1582">15.10.1582 - prvn√≠ den gregori√°nsk√©ho kalend√°≈ôe</li>
                <li data-date="8.10.1582">8.10.1582 - neexistuj√≠c√≠ datum!</li>
                <li data-date="1.1.2000">1.1.2000 - zaƒç√°tek nov√©ho tis√≠cilet√≠</li>
                <li data-date="1.3.89">1.3.89 - kr√°tk√Ω form√°t (‚Üí 1989)</li>
                <li data-date="01031989">01031989 - bez oddƒõlovaƒç≈Ø</li>
            </ul>
        </div>
    </div>
<script>
(function() {
    'use strict';
    var isMenuOpen = false;
    var hasLocalStorage = false;
    
    try {
        if (typeof Storage !== 'undefined' && window.localStorage) {
            localStorage.setItem('test', 'test');
            localStorage.removeItem('test');
            hasLocalStorage = true;
        }
    } catch (e) {
        hasLocalStorage = false;
    }
    
    function getStoredTheme() {
        if (hasLocalStorage) {
            try {
                return localStorage.getItem('selectedTheme') || '';
            } catch (e) {
                return '';
            }
        }
        return '';
    }
    
    function setStoredTheme(theme) {
        if (hasLocalStorage) {
            try {
                localStorage.setItem('selectedTheme', theme);
            } catch (e) {}
        }
    }
    
    function toggleMenu() {
        var dropdown = document.getElementById('menuDropdown');
        if (!dropdown) return;
        
        isMenuOpen = !isMenuOpen;
        if (isMenuOpen) {
            dropdown.classList.add('show');
            dropdown.style.display = 'block';
        } else {
            dropdown.classList.remove('show');
            setTimeout(function() {
                if (!isMenuOpen) dropdown.style.display = 'none';
            }, 300);
        }
    }
    
    function changeTheme(themeName) {
        document.body.className = themeName;
        setStoredTheme(themeName);
        toggleMenu();
    }
    
    function showVersion() {
        var display = document.getElementById('display');
        if (display) {
            display.className = 'display result';
            display.innerHTML = '<div class="display-text">üìÖ <strong>Den v t√Ωdnu v1.5</strong><br><small>Podporuje roky 1 - ‚àû<br>Juli√°nsk√Ω i gregori√°nsk√Ω kalend√°≈ô<br>Zellerova kongruence ‚Ä¢ üìÜ p≈ôestupn√Ω</small></div>';
        }
        toggleMenu();
    }
    
    function fillDate(dateString) {
        var dateInput = document.getElementById('dateInput');
        if (dateInput) {
            dateInput.value = dateString;
            clearDisplay();
        }
    }
    
    function clearDisplay() {
        var display = document.getElementById('display');
        if (display) {
            display.className = 'display';
            display.innerHTML = '<div class="display-text">Zadejte datum pro v√Ωpoƒçet</div>';
        }
    }
    
    function showLoading() {
        var display = document.getElementById('display');
        if (display) {
            display.className = 'display';
            display.innerHTML = '<div class="display-text"><span class="loading"></span>Poƒç√≠t√°m...</div>';
        }
    }
    
    function showResult(result) {
        var display = document.getElementById('display');
        if (display) {
            display.className = 'display result';
            display.innerHTML = '<div class="display-text">' + result + '</div>';
        }
    }
    
    function showError(error) {
        var display = document.getElementById('display');
        if (display) {
            display.className = 'display error';
            display.innerHTML = '<div class="display-text">‚ö†Ô∏è ' + error + '</div>';
        }
    }
    
    function parseDate(dateString) {
        try {
            var cleaned = dateString.trim();
            var parts = cleaned.split(/[.\-\/\s]+/);
            
            if (parts.length === 1 && /^\d+$/.test(cleaned)) {
                var num = cleaned;
                if (num.length === 8) {
                    parts = [num.substring(0, 2), num.substring(2, 4), num.substring(4, 8)];
                } else if (num.length === 6) {
                    var year = parseInt(num.substring(4, 6));
                    var fullYear = year >= 50 ? 1900 + year : 2000 + year;
                    parts = [num.substring(0, 2), num.substring(2, 4), fullYear.toString()];
                } else if (num.length === 7) {
                    if (parseInt(num.substring(1, 3)) <= 12) {
                        parts = [num.substring(0, 1), num.substring(1, 3), num.substring(3, 7)];
                    } else {
                        parts = [num.substring(0, 2), num.substring(2, 3), num.substring(3, 7)];
                    }
                } else if (num.length === 5) {
                    if (parseInt(num.substring(1, 3)) <= 12) {
                        var year = parseInt(num.substring(3, 5));
                        var fullYear = year >= 50 ? 1900 + year : 2000 + year;
                        parts = [num.substring(0, 1), num.substring(1, 3), fullYear.toString()];
                    } else {
                        var year = parseInt(num.substring(3, 5));
                        var fullYear = year >= 50 ? 1900 + year : 2000 + year;
                        parts = [num.substring(0, 2), num.substring(2, 3), fullYear.toString()];
                    }
                } else if (num.length === 4) {
                    return { day: 1, month: 1, year: parseInt(num) };
                }
            }
            
            if (parts.length !== 3) return null;

            var day = parseInt(parts[0]);
            var month = parseInt(parts[1]);
            var year = parseInt(parts[2]);

            if (year < 100 && parts[2].length === 2 && (cleaned.indexOf('.') !== -1 || cleaned.indexOf('/') !== -1 || cleaned.indexOf('-') !== -1 || cleaned.indexOf(' ') !== -1)) {
                if (year >= 50) {
                    year += 1900;
                } else {
                    year += 2000;
                }
            }

            if (isNaN(day) || isNaN(month) || isNaN(year)) return null;
            return { day: day, month: month, year: year };
        } catch (e) {
            return null;
        }
    }
    
    function validateDate(day, month, year) {
        if (day < 1 || day > 31) return "Den mus√≠ b√Ωt mezi 1 a 31";
        if (month < 1 || month > 12) return "Mƒõs√≠c mus√≠ b√Ωt mezi 1 a 12";
        if (year < 1) return "Rok mus√≠ b√Ωt alespo≈à 1 (zaƒç√°tek na≈°eho letopoƒçtu)";

        var daysInMonth = [31, isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
        if (day > daysInMonth[month - 1]) {
            return month + ". mƒõs√≠c m√° pouze " + daysInMonth[month - 1] + " dn√≠";
        }
        return null;
    }
    
    function isLeapYear(year) {
        if (year < 1582) {
            return year % 4 === 0;
        } else {
            return (year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0);
        }
    }
    
    function calculateDayOfWeek() {
        try {
            var dateInput = document.getElementById('dateInput');
            if (!dateInput) return;

            var dateString = dateInput.value.trim();
            if (!dateString) {
                showError("Zadejte datum v libovoln√©m form√°tu");
                return;
            }

            var parsed = parseDate(dateString);
            if (!parsed) {
                showError("Neplatn√Ω form√°t data. Zkuste: 1.1.1, 15.3.44, 1/3/89, 01031989");
                return;
            }

            var error = validateDate(parsed.day, parsed.month, parsed.year);
            if (error) {
                showError(error);
                return;
            }

            showLoading();
            setTimeout(function() {
                var result = getDayOfWeek(parsed.day, parsed.month, parsed.year);
                showResult(result);
            }, 300);
        } catch (e) {
            showError("Do≈°lo k chybƒõ p≈ôi v√Ωpoƒçtu");
        }
    }
    
    function getDayOfWeek(d, m, r) {
        try {
            if (r === 1582 && m === 10 && d >= 5 && d <= 14) {
                return '<strong>' + d + '.' + m + '.' + r + '</strong> = Datum neexistuje!<br><small>P≈ôi p≈ôechodu z juli√°nsk√©ho na gregori√°nsk√Ω kalend√°≈ô byly tyto dny p≈ôeskoƒçeny</small>';
            }

            var cal, h;

            if (r < 1582 || (r === 1582 && m < 10) || (r === 1582 && m === 10 && d <= 4)) {
                cal = "üóì juli√°nsk√Ω ";
                var me, rr;
                if (m < 3) {
                    me = m + 12;
                    rr = r - 1;
                } else {
                    me = m;
                    rr = r;
                }
                h = ((d + Math.floor((13 * (me + 1)) / 5) + rr + Math.floor(rr / 4) - 1) % 7 + 7) % 7;
                var daysJulian = ["P√°tek", "Sobota", "Nedƒõle", "Pondƒõl√≠", "√öter√Ω", "St≈ôeda", "ƒåtvrtek"];
                return 'üóìÔ∏è <strong>' + d + '.' + m + '.' + r + '</strong> = <strong>' + daysJulian[h] + '</strong><br><small>' + cal + (isLeapYear(r) ? ' ‚Ä¢ üìÜ p≈ôestupn√Ω' : '') + '</small>';
            } else {
                cal = "üóì gregori√°nsk√Ω ";
                var me, rr;
                if (m < 3) {
                    me = m + 12;
                    rr = r - 1;
                } else {
                    me = m;
                    rr = r;
                }
                var k = rr % 100;
                var j = Math.floor(rr / 100);
                h = ((d + Math.floor((13 * (me + 1)) / 5) + k + Math.floor(k / 4) + Math.floor(j / 4) - (2 * j)) % 7 + 7) % 7;
                var daysGregorian = ["Sobota", "Nedƒõle", "Pondƒõl√≠", "√öter√Ω", "St≈ôeda", "ƒåtvrtek", "P√°tek"];
                return 'üóìÔ∏è <strong>' + d + '.' + m + '.' + r + '</strong> = <strong>' + daysGregorian[h] + '</strong><br><small>' + cal + (isLeapYear(r) ? ' ‚Ä¢ üìÜ p≈ôestupn√Ω' : '') + '</small>';
            }
        } catch (e) {
            return "‚ùå Chyba ve v√Ωpoƒçtu";
        }
    }
    
    function openLink(url) {
        try {
            if (window.open) {
                window.open(url, '_blank');
            } else {
                window.location.href = url;
            }
        } catch (error) {
            try {
                window.location.href = url;
            } catch (e) {}
        }
        toggleMenu();
    }
    
    function initializeApp() {
        try {
            var savedTheme = getStoredTheme();
            if (savedTheme) {
                document.body.className = savedTheme;
            }
            
            var menuButton = document.getElementById('menuButton');
            if (menuButton) {
                menuButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    toggleMenu();
                });
                menuButton.addEventListener('touchend', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    toggleMenu();
                });
            }
            
            var versionButton = document.getElementById('versionButton');
            if (versionButton) {
                versionButton.addEventListener('click', showVersion);
                versionButton.addEventListener('touchend', showVersion);
            }
            
                      var themeItems = document.querySelectorAll('.theme-item');
            for (var i = 0; i < themeItems.length; i++) {
                (function(item) {
                    var theme = item.getAttribute('data-theme') || '';
                    item.addEventListener('click', function() {
                        changeTheme(theme);
                    });
                    item.addEventListener('touchend', function() {
                        changeTheme(theme);
                    });
                })(themeItems[i]);
            }
            
            var linkItems = document.querySelectorAll('[data-link]');
            for (var i = 0; i < linkItems.length; i++) {
                (function(item) {
                    var link = item.getAttribute('data-link');
                    item.addEventListener('click', function() {
                        openLink(link);
                    });
                    item.addEventListener('touchend', function() {
                        openLink(link);
                    });
                })(linkItems[i]);
            }
            
            var dateInput = document.getElementById('dateInput');
            if (dateInput) {
                dateInput.addEventListener('input', clearDisplay);
                dateInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter' || e.keyCode === 13) {
                        e.preventDefault();
                        calculateDayOfWeek();
                    }
                });
            }
            
            var calculateBtn = document.getElementById('calculateBtn');
            if (calculateBtn) {
                calculateBtn.addEventListener('click', calculateDayOfWeek);
                calculateBtn.addEventListener('touchend', calculateDayOfWeek);
            }
            
            var exampleItems = document.querySelectorAll('[data-date]');
            for (var i = 0; i < exampleItems.length; i++) {
                (function(item) {
                    var date = item.getAttribute('data-date');
                    item.addEventListener('click', function() {
                        fillDate(date);
                    });
                    item.addEventListener('touchend', function() {
                        fillDate(date);
                    });
                })(exampleItems[i]);
            }
            
            function closeMenuOutside(event) {
                var menuContainer = document.querySelector('.menu-container');
                var dropdown = document.getElementById('menuDropdown');
                
                if (menuContainer && dropdown && !menuContainer.contains(event.target) && isMenuOpen) {
                    dropdown.classList.remove('show');
                    isMenuOpen = false;
                }
            }
            
            document.addEventListener('click', closeMenuOutside);
            document.addEventListener('touchstart', closeMenuOutside);
            
            var lastTouchEnd = 0;
            document.addEventListener('touchend', function(event) {
                var now = (new Date()).getTime();
                if (now - lastTouchEnd <= 300) {
                    event.preventDefault();
                }
                lastTouchEnd = now;
            }, false);
            
            function handleOrientationChange() {
                setTimeout(function() {
                    var dropdown = document.getElementById('menuDropdown');
                    if (dropdown && isMenuOpen) {
                        dropdown.classList.remove('show');
                        setTimeout(function() {
                            dropdown.classList.add('show');
                        }, 50);
                    }
                }, 100);
            }
            
            if (window.addEventListener) {
                window.addEventListener('orientationchange', handleOrientationChange);
                window.addEventListener('resize', handleOrientationChange);
            }
            
        } catch (error) {
            console.log('Initialization error:', error);
        }
    }
    
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initializeApp);
    } else {
        initializeApp();
    }
    
})();
</script>
</body>
</html>
